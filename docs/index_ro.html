<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DOSBoxâ€‘X ASM 2D Draw App â€“ DocumentaÈ›ie</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>
<body>
  <header class="terminal-header">
    <div class="window-controls" aria-hidden="true">
      <span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span>
    </div>
    <div class="header-body">
      <h1>DOSBoxâ€‘X ASM 2D Draw App</h1>
      <p>Intel 8086 (16â€‘bit) â€¢ DOSBoxâ€‘X â€¢ TASM</p>
    </div>
      <nav>
        <a href="index_ro.html">ðŸ‡·ðŸ‡´ RO</a> | 
        <a href="index_en.html">ðŸ‡¬ðŸ‡§ EN</a>
      </nav>
  </header>

  <main>
    <section id="overview">
      <h2>1. Descriere generalÄƒ</h2>
      <p>
        AplicaÈ›ie modularÄƒ Ã®n limbaj de asamblare x86, oferind un meniu interactiv
        pentru desenarea de forme 2D Ã®n mod grafic (13h). Proiectul demonstreazÄƒ
        folosirea tastaturii (input), a ecranului (text È™i grafic) È™i a memoriei
        (segment de date, VRAM A000h).
      </p>
      <ul>
        <li><strong>Microprocesor</strong>: Intel 8086 (real mode)</li>
        <li><strong>Periferice</strong>: tastaturÄƒ (INT 21h/01h, INT 16h), display (INT 10h), memorie (A000h)</li>
        <li><strong>Mediu execuÈ›ie</strong>: DOSBoxâ€‘X</li>
      </ul>
    </section>

    <section id="peripherals">
      <h2>2. Periferice È™i servicii</h2>
      <ul>
        <li><strong>TastaturÄƒ</strong>: citire caracter (DOS INT 21h/01h), aÈ™teptare tastÄƒ (BIOS INT 16h/00h)</li>
        <li><strong>Display</strong>: mod text 80Ã—25 È™i mod grafic 13h 320Ã—200Ã—256 (BIOS INT 10h)</li>
        <li><strong>Memorie</strong>: segment date DS, memorie video ES=A000h pentru pixeli</li>
      </ul>
      <p><strong>ÃŽntreruperi utilizate</strong>:</p>
      <ul>
        <li>INT 10h â€“ AH=00h (set video mode), AH=02h (cursor), AH=06h (scroll/clear)</li>
        <li>INT 21h â€“ AH=09h (print string), AH=01h (read char), AH=4Ch (exit)</li>
        <li>INT 16h â€“ AH=00h (wait for key)</li>
      </ul>
    </section>

    <section id="block-diagram">
      <h2>3. SchemÄƒ bloc</h2>
      <p>
        Structura modularÄƒ: MAIN (iniÈ›ializare) â†’ MENU/DRAWM (UI) â†’ DRAWL/DRAWS (algoritmi desen)
        susÈ›inute de IO (servicii DOS/BIOS), INP (input numeric), DATA (mesaje/constante).
      </p>
      <figure class="figure-bordered">
        <img src="../assets/images/diagrams/block_diagram_v2.png" alt="SchemÄƒ bloc a sistemului" />
        <figcaption>Figura 1: SchemÄƒ bloc a sistemului</figcaption>
      </figure>
    </section>

    <section id="operation">
      <h2>4. DiagramÄƒ de funcÈ›ionare</h2>
      <ol>
        <li>Start program: iniÈ›ializeazÄƒ DS, curÄƒÈ›Äƒ ecranul, afiÈ™eazÄƒ meniul principal.</li>
        <li>Navigare: utilizatorul alege opÈ›iunea (Line/Square/Back/Exit).</li>
        <li>Colectare parametri: citire numericÄƒ Ã®n modul text.</li>
        <li>Mod grafic: se comutÄƒ la 13h, se deseneazÄƒ forma Ã®n VRAM.</li>
        <li>ÃŽntoarcere: aÈ™teaptÄƒ o tastÄƒ, revine Ã®n modul text.</li>
      </ol>
    </section>

    <section id="test-plan">
      <h2>5. Plan de testare</h2>
      <p>Scenarii recomandate pentru validare funcÈ›ionalÄƒ:</p>
      <ol>
        <li><strong>Linie orizontalÄƒ</strong>: y=50, x=10, lÄƒÈ›ime=100, culoare=12 â†’ se traseazÄƒ pe rÃ¢ndul 50.</li>
        <li><strong>Linie verticalÄƒ</strong>: x=100, y=20, Ã®nÄƒlÈ›ime=80, culoare=10 â†’ se traseazÄƒ pe coloana 100.</li>
        <li><strong>PÄƒtrat plin</strong>: (x,y)=(40,40), mÄƒrime=40, culoare=4 â†’ zonÄƒ umplutÄƒ corect.</li>
        <li><strong>PÄƒtrat contur</strong>: (x,y)=(60,30), mÄƒrime=50, culoare=14 â†’ doar marginile trasate.</li>
        <li><strong>Input invalid</strong>: caractere non-digit sau valori Ã®n afara intervalului â†’ reâ€‘prompt sau ignorare.</li>
        <li><strong>TranziÈ›ii mod</strong>: dupÄƒ desenare, apÄƒsare tastÄƒ â†’ revine la modul text, ecran curat.</li>
      </ol>
      <h3>Matrix de test (parametri vs rezultate aÈ™teptate)</h3>
      <table>
        <thead>
          <tr>
            <th>Caz</th>
            <th>Parametri</th>
            <th>CondiÈ›ii</th>
            <th>Rezultat aÈ™teptat</th>
            <th>Limite</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Linie orizontalÄƒ validÄƒ</td>
            <td>x=10, y=50, width=100, color=12</td>
            <td>0â‰¤xâ‰¤219, 0â‰¤yâ‰¤199</td>
            <td>Segment orizontal pe y=50, 100 pixeli</td>
            <td>Clipping dacÄƒ x+width>319</td>
          </tr>
          <tr>
            <td>Linie verticalÄƒ validÄƒ</td>
            <td>x=100, y=20, height=80, color=10</td>
            <td>0â‰¤yâ‰¤119, 0â‰¤xâ‰¤319</td>
            <td>Segment vertical pe x=100, 80 pixeli</td>
            <td>Clipping dacÄƒ y+height>199</td>
          </tr>
          <tr>
            <td>PÄƒtrat plin valid</td>
            <td>x=40, y=40, size=40, color=4</td>
            <td>0â‰¤xâ‰¤279, 0â‰¤yâ‰¤159</td>
            <td>ZonÄƒ umplutÄƒ sizeÃ—size</td>
            <td>Clipping la margini</td>
          </tr>
          <tr>
            <td>PÄƒtrat contur valid</td>
            <td>x=60, y=30, size=50, color=14</td>
            <td>0â‰¤xâ‰¤269, 0â‰¤yâ‰¤149</td>
            <td>Doar muchiile trasate</td>
            <td>Clipping la margini</td>
          </tr>
          <tr>
            <td>Culoare invalidÄƒ</td>
            <td>color=200</td>
            <td>n/a</td>
            <td>Reâ€‘prompt/mesaj eroare</td>
            <td>Valorile valabile: 0â€“15</td>
          </tr>
          <tr>
            <td>Coordonate outâ€‘ofâ€‘range</td>
            <td>x=400, y=300</td>
            <td>n/a</td>
            <td>Reâ€‘prompt/ajustare/clipping</td>
            <td>Ecran: 320Ã—200</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="implementation">
      <h2>6. Detalii de implementare</h2>
      <ul>
        <li><strong>Mode 13h</strong>: 320Ã—200, 256 culori; segment video ES=A000h.</li>
        <li><strong>Pixel</strong>: offset = y Ã— 320 + x; scriere octet culoare.</li>
        <li><strong>InterfeÈ›e</strong>: INT 10h (video), INT 21h (I/O), INT 16h (tastaturÄƒ BIOS).</li>
        <li><strong>Module</strong>: vezi comentariile de antet Ã®n fiÈ™ierele ASM.</li>
      </ul>
    </section>

    <section id="build-run">
      <h2>7. Build & Run</h2>
      <p>Comenzi utile folosind TASM:</p>
      <pre><code>tasm /m2 application\\MAIN.ASM
tasm /m2 application\\MENU.ASM
tasm /m2 application\\DRAWM.ASM
tasm /m2 application\\DRAWL.ASM
tasm /m2 application\\DRAWS.ASM
tasm /m2 application\\INP.ASM
tasm /m2 application\\DATA.ASM
tasm /m2 application\\IO.ASM
tlink /t MAIN MENU DRAWM DRAWL DRAWS INP DATA IO
</code></pre>
      <p>Rulare: utilizaÈ›i DOSBoxâ€‘X È™i lansaÈ›i executabilul rezultat.</p>
    </section>

    <section id="gallery">
      <h2>8. Galerie (capturi)</h2>
      <div class="gallery">
        <figure>
          <img src="../assets/images/captures/main_menu.png" alt="Meniu principal" />
          <figcaption>Meniu principal</figcaption>
        </figure>
        <figure>
          <img src="../assets/images/captures/about.png" alt="Despre program" />
          <figcaption>Despre echipÄƒ</figcaption>
        </figure>
        <figure>
          <img src="../assets/images/captures/draw.png" alt="Submeniu desen" />
          <figcaption>Submeniu desen</figcaption>
        </figure>
        <figure>
          <img src="../assets/images/captures/line_menu.png" alt="Parametri linie" />
          <figcaption>Alegere linie</figcaption>
        </figure>
        <figure>
          <img src="../assets/images/captures/prompt_x.png" alt="Parametri linie: X" />
          <figcaption>Parametri linie: X</figcaption>
        </figure>
        <figure>
          <img src="../assets/images/captures/prompt_y.png" alt="Parametri linie: Y" />
          <figcaption>Parametri linie: Y</figcaption>
        </figure>
        <figure>
          <img src="../assets/images/captures/prompt_color.png" alt="Parametri linie: Culoare" />
          <figcaption>Parametri linie: Culoare</figcaption>
        </figure>
        <figure>
          <img src="../assets/images/captures/filled_square.png" alt="PÄƒtrat plin" />
          <figcaption>PÄƒtrat plin</figcaption>
        </figure>
        <figure>
          <img src="../assets/images/captures/hallowed_square.png" alt="PÄƒtrat gol" />
          <figcaption>PÄƒtrat gol</figcaption>
        </figure>
      </div>
    </section>
  </main>

  <footer>
    <p>Â© 2025 DOSBoxâ€‘X ASM 2D Draw App</p>
  </footer>
  <div class="crt-overlay" aria-hidden="true"></div>
  <script>
  (function(){
    var AMBER='amber', GREEN='green';
    var key='docs-theme';
    var saved=localStorage.getItem(key);
    var root=document.documentElement;
    if(saved===AMBER||saved===GREEN){root.setAttribute('data-theme',saved);}
    var btn=document.getElementById('themeToggle');
    if(btn){
      btn.addEventListener('click',function(){
        var next=(root.getAttribute('data-theme')===GREEN)?AMBER:GREEN;
        root.setAttribute('data-theme',next);
        try{localStorage.setItem(key,next);}catch(e){}
      });
    }
  })();
  </script>
</body>
</html>
